(this["webpackJsonpmoxy-proxy"]=this["webpackJsonpmoxy-proxy"]||[]).push([[3],{421:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(42),r=a.n(n),c=a(43),l=a(19),o=a(453),i=a(457),s=a(459),u=a(0),p=a.n(u),m=a(418),d=a.n(m),b=a(25),f=a(73),S=a(466),h=a(460),v=a(488),y=a(469),E=a(468),g=a(478),O=a(467),j=a(465),x=a(492),C=a(39),k=a(494),w=a(493),J=Object(j.a)((function(e){return Object(x.a)({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}));function N(){var e=Object(u.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],s=J(),m=Object(C.a)(),d=Object(S.a)(m.breakpoints.down("xs")),j=Object(u.useContext)(b.AppStateContext),x=j.addServerStateScenario,N=j.serverState,A=Object(u.useState)(N),T=Object(l.a)(A,2),W=T[0],B=T[1],D=Object(u.useState)(""),F=Object(l.a)(D,2),H=F[0],M=F[1];function P(){n(!1)}function U(){return(U=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({id:Date.now().toString(),name:H,state:W});case 2:n(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=JSON.stringify(W,null,2);return p.a.createElement(p.a.Fragment,null,p.a.createElement(i.a,{onClick:function(){n(!0)}},"Add server scenario"),p.a.createElement(v.a,{closeAfterTransition:!0,"aria-labelledby":"max-width-dialog-title",fullScreen:d,maxWidth:"md",open:a,onClose:P},p.a.createElement(O.a,{disableTypography:!0,id:"max-width-dialog-title",style:{minWidth:500}},p.a.createElement(o.a,{variant:"h6"},"Add server scenario"),p.a.createElement(h.a,{"aria-label":"close",className:s.closeButton,onClick:P},p.a.createElement(w.a,null))),p.a.createElement(E.a,null,p.a.createElement(k.a,{autoFocus:!0,fullWidth:!0,id:"name",label:"Scenario name",margin:"dense",value:H,onChange:function(e){M(e.target.value)}})),p.a.createElement(E.a,null,p.a.createElement(g.a,null,"Modify copy of state before adding"),p.a.createElement(f.a,{autoHeight:!0,code:I,language:"json",onSave:function(e){B(JSON.parse(e))}})),p.a.createElement(y.a,null,p.a.createElement(i.a,{onClick:function(){return U.apply(this,arguments)}},"Submit"))))}var A=a(420),T=a(136),W=a(90),B=a.n(W);function D(e){var t=e.actions,a=Object(u.useState)(null),n=Object(l.a)(a,2),r=n[0],c=n[1],o=Boolean(r),i=function(){c(null)};return p.a.createElement("div",null,p.a.createElement(h.a,{"aria-controls":"server-state-menu","aria-haspopup":"true","aria-label":"more",onClick:function(e){c(e.currentTarget)}},p.a.createElement(B.a,null)),p.a.createElement(A.a,{keepMounted:!0,anchorEl:r,id:"server-state-menu",open:o,PaperProps:{style:{maxHeight:216,width:200}},onClose:i},t.map((function(e){var t,a=e.label,n=e.onClick;return p.a.createElement(T.a,{key:a,onClick:(t=n,function(){i(),t()})},a)}))))}function F(){var e=Object(u.useContext)(b.AppStateContext),t=e.serverState,a=e.resetServerState,n=e.updateServerState,m=e.deleteStateScenario,S=Object(u.useState)(!1),h=Object(l.a)(S,2),v=h[0],y=h[1],E=Object(u.useState)(!1),g=Object(l.a)(E,2),O=g[0],j=g[1],x=Object(u.useState)(JSON.stringify(t,null,2)),C=Object(l.a)(x,2),k=C[0],w=C[1];function J(){return(J=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent;try{n(JSON.parse(t))}catch(a){console.error(["handleUpdateWithClipboard.error"],a.toString())}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(JSON.stringify(t,null,2));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},p.a.createElement(o.a,{style:{margin:8},variant:"h5"},"Server state"),p.a.createElement("div",{style:{display:"flex"}},v?p.a.createElement(i.a,{disabled:O,onClick:function(){y(!1),n(JSON.parse(k))}},"Done"):p.a.createElement(i.a,{onClick:function(){y(!0)}},"Edit"),p.a.createElement(N,null),p.a.createElement(D,{actions:[{label:"Reset server",onClick:a},{label:"Copy to clipboard",onClick:function(){return A.apply(this,arguments)}},{label:"Update with clipboard",onClick:function(){return J.apply(this,arguments)}},{label:"Delete scenario",onClick:function(){m()}}]}))),p.a.createElement(s.a,{style:{padding:10}},!v&&p.a.createElement(d.a,{name:"state",src:t}),v&&p.a.createElement(f.a,{autoHeight:!0,code:k,language:"json",onSave:function(e){w(e);try{JSON.parse(e),j(!1)}catch(t){j(!0)}}})))}}}]);
//# sourceMappingURL=3.6df6d43b.chunk.js.map