(this["webpackJsonpmoxy-proxy"]=this["webpackJsonpmoxy-proxy"]||[]).push([[3],{377:function(e,t,a){"use strict";a.r(t);var n=a(42),r=a.n(n),c=a(19),l=a(410),o=a(414),i=a(416),s=a(0),u=a.n(s),d=a(374),p=a.n(d),m=a(24),b=a(71),f=a(423),S=a(417),v=a(445),E=a(426),g=a(425),y=a(435),h=a(424),O=a(422),j=a(449),x=a(39),C=a(451),k=a(450),w=Object(O.a)((function(e){return Object(j.a)({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}));function J(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],i=w(),d=Object(x.a)(),p=Object(f.a)(d.breakpoints.down("xs")),O=Object(s.useContext)(m.AppStateContext),j=O.addServerStateScenario,J=O.serverState,N=Object(s.useState)(J),A=Object(c.a)(N,2),T=A[0],W=A[1],B=Object(s.useState)(""),D=Object(c.a)(B,2),F=D[0],H=D[1];function M(){n(!1)}var P=JSON.stringify(T,null,2);return u.a.createElement(u.a.Fragment,null,u.a.createElement(o.a,{onClick:function(){n(!0)}},"Add server scenario"),u.a.createElement(v.a,{closeAfterTransition:!0,"aria-labelledby":"max-width-dialog-title",fullScreen:p,maxWidth:"md",open:a,onClose:M},u.a.createElement(h.a,{disableTypography:!0,id:"max-width-dialog-title",style:{minWidth:500}},u.a.createElement(l.a,{variant:"h6"},"Add server scenario"),u.a.createElement(S.a,{"aria-label":"close",className:i.closeButton,onClick:M},u.a.createElement(k.a,null))),u.a.createElement(g.a,null,u.a.createElement(C.a,{autoFocus:!0,fullWidth:!0,id:"name",label:"Scenario name",margin:"dense",value:F,onChange:function(e){H(e.target.value)}})),u.a.createElement(g.a,null,u.a.createElement(y.a,null,"Modify copy of state before adding"),u.a.createElement(b.a,{autoHeight:!0,code:P,language:"json",onSave:function(e){W(JSON.parse(e))}})),u.a.createElement(E.a,null,u.a.createElement(o.a,{onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(j({id:Date.now().toString(),name:F,state:T}));case 2:n(!1);case 3:case"end":return e.stop()}}))}},"Submit"))))}var N=a(376),A=a(126),T=a(85),W=a.n(T);function B(e){var t=e.actions,a=Object(s.useState)(null),n=Object(c.a)(a,2),r=n[0],l=n[1],o=Boolean(r),i=function(){l(null)};return u.a.createElement("div",null,u.a.createElement(S.a,{"aria-controls":"server-state-menu","aria-haspopup":"true","aria-label":"more",onClick:function(e){l(e.currentTarget)}},u.a.createElement(W.a,null)),u.a.createElement(N.a,{keepMounted:!0,anchorEl:r,id:"server-state-menu",open:o,PaperProps:{style:{maxHeight:216,width:200}},onClose:i},t.map((function(e){var t,a=e.label,n=e.onClick;return u.a.createElement(A.a,{key:a,onClick:(t=n,function(){i(),t()})},a)}))))}function D(){var e=Object(s.useContext)(m.AppStateContext),t=e.serverState,a=e.resetServerState,n=e.updateServerState,d=e.deleteStateScenario,f=Object(s.useState)(!1),S=Object(c.a)(f,2),v=S[0],E=S[1],g=Object(s.useState)(!1),y=Object(c.a)(g,2),h=y[0],O=y[1],j=Object(s.useState)(JSON.stringify(t,null,2)),x=Object(c.a)(j,2),C=x[0],k=x[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},u.a.createElement(l.a,{style:{margin:8},variant:"h5"},"Server state"),u.a.createElement("div",{style:{display:"flex"}},v?u.a.createElement(o.a,{disabled:h,onClick:function(){E(!1),n(JSON.parse(C))}},"Done"):u.a.createElement(o.a,{onClick:function(){E(!0)}},"Edit"),u.a.createElement(J,null),u.a.createElement(B,{actions:[{label:"Reset server",onClick:a},{label:"Copy to clipboard",onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(navigator.clipboard.writeText(JSON.stringify(t,null,2)));case 2:case"end":return e.stop()}}))}},{label:"Update with clipboard",onClick:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(navigator.clipboard.readText());case 2:e=t.sent;try{n(JSON.parse(e))}catch(a){console.error(["handleUpdateWithClipboard.error"],a.toString())}case 4:case"end":return t.stop()}}))}},{label:"Delete scenario",onClick:function(){d()}}]}))),u.a.createElement(i.a,{style:{padding:10}},!v&&u.a.createElement(p.a,{name:"state",src:t}),v&&u.a.createElement(b.a,{autoHeight:!0,code:C,language:"json",onSave:function(e){k(e);try{JSON.parse(e),O(!1)}catch(t){O(!0)}}})))}a.d(t,"default",(function(){return D}))}}]);
//# sourceMappingURL=3.bfd0de6b.chunk.js.map