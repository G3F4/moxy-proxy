(this["webpackJsonpmoxy-proxy"]=this["webpackJsonpmoxy-proxy"]||[]).push([[10],{107:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(74),r=n.n(a),c=n(0),o=n.n(c);function i(e){var t=e.onSave,n=e.code,a=e.autoHeight,i=e.language,l=e.onReady,u=Object(c.useRef)();!function(e,t){Object(c.useEffect)((function(){var n=setInterval((function(){e.current&&t(e.current())}),500);return function(){clearInterval(n)}}),[e,t])}(u,t);var s=n.split(/\r\n|\r|\n/).length+3,d=a?"".concat(18*s,"px"):"500px";return o.a.createElement(r.a,{editorDidMount:function(e){l&&l(),u.current=e},height:d,language:i,value:n.trim(),width:"100%"})}},160:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t),n.d(t,"AppStateContext",(function(){return O}));var a=n(42),r=n.n(a),c=n(97),o=n(43),i=n(19),l=n(0),u=n.n(l);n(160);function s(e,t){var n=Object(l.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=Object(i.a)(n,2),r=a[0],c=a[1];return[r,Object(l.useCallback)((function(t){try{window.localStorage.setItem(e,JSON.stringify(t)),c(t)}catch(n){console.error(n)}}),[e])]}var d=Object(l.lazy)((function(){return n.e(11).then(n.bind(null,497))})),p=Object(l.lazy)((function(){return n.e(12).then(n.bind(null,500))})),f=Object(l.lazy)((function(){return n.e(13).then(n.bind(null,501))})),b=Object(l.lazy)((function(){return Promise.all([n.e(2),n.e(14)]).then(n.bind(null,480))}));function v(){var e=Object(l.useContext)(O).viewMode;return u.a.createElement(u.a.Fragment,null,u.a.createElement(l.Suspense,{fallback:"Loading header..."},u.a.createElement(d,null)),"tabs"===e&&u.a.createElement(l.Suspense,{fallback:"Loading tabs layout..."},u.a.createElement(b,null)),"panels"===e&&u.a.createElement(l.Suspense,{fallback:"Loading panel layout..."},u.a.createElement(f,null)),"board"===e&&u.a.createElement(l.Suspense,{fallback:"Loading board layout..."},u.a.createElement(p,null)))}var S=n(98);function m(){return{}}function g(){return[]}var O=Object(l.createContext)({activeTab:"serverState",activeServerStateScenarioId:"default",viewMode:"tabs",serverState:{},endpoints:[],serverStateInterface:"",serverStateScenarios:[],persistEndpoints:function(){},persistMockedData:function(){},changeViewMode:function(e){},changeActiveTab:function(e){},addServerStateScenario:function(e){},changeServerStateScenario:function(e){},updateServerState:function(e){},resetServerState:function(){},deleteStateScenario:function(){},addEndpoint:function(e){},deleteEndpoint:function(e){},changeEndpointResponseStatus:function(e,t){},updateEndpoint:function(e){},testEndpoint:function(e,t,n,a){return Promise.resolve(new Response(""))}});var E=new WebSocket("ws://localhost:5000/superHash123");function y(e){console.log(["sendEvent"],e);try{E.send(JSON.stringify(e))}catch(t){console.error(t)}}t.default=function(){var e=s("activeTab","serverState"),t=Object(i.a)(e,2),n=t[0],a=t[1],d=s("activeServerStateScenarioId","default"),p=Object(i.a)(d,2),f=p[0],b=p[1],j=s("viewMode","tabs"),h=Object(i.a)(j,2),k=h[0],w=h[1],x=Object(l.useState)(m),C=Object(i.a)(x,2),I=C[0],T=C[1],J=Object(l.useState)([]),N=Object(i.a)(J,2),R=N[0],q=N[1],P=Object(l.useState)(""),M=Object(i.a)(P,2),A=M[0],z=M[1],B=Object(l.useState)(g),F=Object(i.a)(B,2),L=F[0],U=F[1],W=Object(l.useCallback)((function(e){var t=e.action,n=e.payload;({updateEndpoints:function(e){U(e)},updateServerState:function(e){T(e)},updateServerStateInterface:function(e){z(e)},updateActiveStateScenarioId:function(e){b(e)},updateServerStateScenarios:function(e){q(e)}})[t](n)}),[b]);function D(){return(D=Object(o.a)(r.a.mark((function e(t,n,a,c){var o,i,l,u,s,d,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(e,t){var n=e.split("/").filter(Boolean).reduce((function(e,n){return n[0]===S.b?"".concat(e,"/").concat(t[n.slice(1)]):"".concat(e,"/").concat(n)}),"");return"".concat("http://localhost:5000").concat(n)},o=t.url,i=t.method,l=JSON.parse(c),u="get"===i||0===Object.keys(l).length,s=u?void 0:JSON.stringify(l),d=u?void 0:{Accept:"application/json","Content-Type":"application/json"},f="".concat(p(o,n),"?").concat(a),console.log(["parsedUrl"],f),e.next=10,fetch(f,{body:s,method:i,headers:d,credentials:"include"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){E.onopen=function(e){console.log(["WebSocket.onopen"],e)},E.onclose=function(e){console.log(["WebSocket.onclose"],e),setTimeout((function(){window.location.reload()}),3e3)},E.onmessage=function(e){console.log(["WebSocket.onmessage"],JSON.parse(e.data)),W(function(e){var t=JSON.parse(e);return{action:t.action,payload:t.payload}}(e.data))},E.onerror=function(e){console.error(["WebSocket.onerror"],e)};var e=setInterval((function(){y({action:"ping"})}),1e4);return function(){clearInterval(e)}}),[W]);var H={activeTab:n,activeServerStateScenarioId:f,endpoints:L,serverState:I,serverStateInterface:A,serverStateScenarios:R,viewMode:k,persistEndpoints:function(){y({action:"persistEndpoints"})},persistMockedData:function(){y({action:"persistMockedData"})},changeEndpointResponseStatus:function(e,t){y({action:"changeEndpointResponseStatus",payload:{endpointId:e,status:t}})},addServerStateScenario:function(e){q((function(t){return[].concat(Object(c.a)(t),[e])})),y({action:"addServerStateScenario",payload:e})},deleteStateScenario:function(){y({action:"deleteStateScenario",payload:f})},changeServerStateScenario:function(e){y({action:"changeServerStateScenario",payload:e}),b(e)},changeViewMode:w,changeActiveTab:a,updateServerState:function(e){T(e),y({action:"clientUpdatedServer",payload:{serverStateScenarioId:f,state:e}})},resetServerState:function(){y({action:"resetServerState"})},addEndpoint:function(e){y({action:"addEndpoint",payload:e})},updateEndpoint:function(e){y({action:"updateEndpoint",payload:e})},deleteEndpoint:function(e){y({action:"deleteEndpoint",payload:e})},testEndpoint:function(e,t,n,a){return D.apply(this,arguments)}};return u.a.createElement("div",{className:"App"},u.a.createElement(O.Provider,{value:H},u.a.createElement(v,null)))}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(19),r=n(467),c=n(462),o=n(0),i=n.n(o),l=n(492),u=n(107);function s(e){var t=e.code,n=e.title,s=e.language,d=void 0===s?"javascript":s,p=e.onSave,f=Object(o.useState)(t),b=Object(a.a)(f,2),v=b[0],S=b[1],m=Object(o.useState)(!1),g=Object(a.a)(m,2),O=g[0],E=g[1],y=Object(o.useState)(!1),j=Object(a.a)(y,2),h=j[0],k=j[1];return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement(c.a,{variant:"body1"},n),h&&O?i.a.createElement(r.a,{onClick:function(){E(!1),p(v)}},"Done"):i.a.createElement(r.a,{onClick:function(){return E(!0)}},"Edit")),i.a.createElement("div",null,O?i.a.createElement(u.a,{autoHeight:!0,code:v,language:d,onReady:function(){k(!0)},onSave:S}):i.a.createElement(l.a,{language:d},t.trim())))}},98:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return M}));var a=n(42),r=n.n(a),c=n(43),o=n(19),i=n(37),l=n(32),u=n(476),s=n(470),d=n(467),p=n(498),f=n(479),b=n(478),v=n(477),S=n(475),m=n(502),g=n(39),O=n(462),E=n(503),y=n(0),j=n.n(y),h=n(492),k=n(25),w=n(33),x=n(499),C=n(423),I=n.n(C);function T(e){var t=e.endpoint,n=e.queryString,a=e.requestBody,i=Object(y.useState)(!1),l=Object(o.a)(i,2),u=l[0],p=l[1],f=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,navigator.clipboard.writeText('curl -i --header "Content-Type: application/json" --request '.concat(t.method.toLocaleUpperCase()," --data '").concat(JSON.stringify(JSON.parse(a)),"' ").concat(window.location.origin,"/").concat(t.url,"?").concat(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e,t){"clickaway"!==t&&p(!1)};return j.a.createElement("div",null,j.a.createElement(d.a,{onClick:f},"Copy CURL to clipboard"),j.a.createElement(x.a,{action:j.a.createElement(s.a,{"aria-label":"close",color:"inherit",size:"small",onClick:b},j.a.createElement(I.a,{fontSize:"small"})),anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,message:"CURL copied to clipboard!",open:u,onClose:b}))}var J=n(504);function N(e){var t=e.endpoint,n=e.queryParams,a=e.setQueryParams;return j.a.createElement(j.a.Fragment,null,j.a.createElement(O.a,{variant:"subtitle2"},"Fill query parameters"),j.a.createElement("div",{style:{display:"flex"}},t.parameters.map((function(e,t){e.id;var r=e.name;e.type;return j.a.createElement(j.a.Fragment,null,j.a.createElement(O.a,{style:{marginTop:20,marginRight:5},variant:"body1"},"".concat(t>0?"& ":"").concat(r," = ")),j.a.createElement(J.a,{label:r,placeholder:"Set query parameter value",value:n[r],onChange:function(e){a(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},r,e.target.value)))}}))}))))}function R(e){var t=e.endpoint,n=e.urlParameters,a=e.setUrlParameters,r=t.url.split("/").filter(Boolean);return j.a.createElement(j.a.Fragment,null,j.a.createElement(O.a,{style:{flexGrow:1},variant:"subtitle2"},"Fill url parameters"),j.a.createElement("div",{style:{display:"flex"}},r.map((function(e){if(":"===e[0]){var t=e.slice(1),r=n[t];return j.a.createElement(J.a,{required:!0,label:t,placeholder:"Set parameter value",value:r,onChange:function(e){a(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},t,e.target.value)))}})}return j.a.createElement(O.a,{style:{marginTop:20,marginRight:5},variant:"body1"},"".concat(e," /"))}))))}var q=Object(S.a)((function(e){return Object(m.a)({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})})),P=":";function M(e){var t=e.endpoint,n=Object(y.useState)(!1),a=Object(o.a)(n,2),S=a[0],m=a[1],x=Object(y.useState)("\n{}\n"),C=Object(o.a)(x,2),I=C[0],J=C[1],M=Object(y.useState)(!1),A=Object(o.a)(M,2),z=A[0],B=A[1],F=Object(y.useState)(""),L=Object(o.a)(F,2),U=L[0],W=L[1],D=Object(g.a)(),H=q(),Q=Object(u.a)(D.breakpoints.down("xs")),V=Object(y.useContext)(k.AppStateContext).testEndpoint,G=Object(y.useState)(t.url.split("/").filter(Boolean).reduce((function(e,t){return t[0]===P?Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},t.slice(1),"")):e}),{})),K=Object(o.a)(G,2),X=K[0],Y=K[1],Z=Object(y.useState)(function(e){return e.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},t.name,""))}),{})}(t.parameters)),$=Object(o.a)(Z,2),_=$[0],ee=$[1];function te(){m(!1)}function ne(e){return Object.entries(e).reduce((function(e,t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return"".concat(e,"&").concat(a,"=").concat(r)}),"")}function ae(){return(ae=Object(c.a)(r.a.mark((function e(){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ne(_),e.next=3,V(t,X,n,I);case 3:if(!((a=e.sent).status<300)){e.next=15;break}return e.prev=5,e.next=8,a.json();case 8:c=e.sent,W(JSON.stringify(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),W("");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return j.a.createElement("div",null,j.a.createElement(d.a,{onClick:function(){m(!0)}},"Test endpoint"),j.a.createElement(p.a,{closeAfterTransition:!0,"aria-labelledby":"max-width-dialog-title",fullScreen:Q,maxWidth:"md",open:S,onClose:te},j.a.createElement(v.a,{disableTypography:!0,id:"max-width-dialog-title",style:{minWidth:500}},j.a.createElement(O.a,{style:{marginRight:40},variant:"h6"},"Test endpoint ".concat(t.method,":").concat(t.url)),j.a.createElement(s.a,{"aria-label":"close",className:H.closeButton,onClick:te},j.a.createElement(E.a,null))),Object.keys(X).length>0&&j.a.createElement(b.a,null,j.a.createElement(R,{endpoint:t,setUrlParameters:Y,urlParameters:X})),t.parameters.length>0&&j.a.createElement(b.a,null,j.a.createElement(N,{endpoint:t,queryParams:_,setQueryParams:ee})),j.a.createElement(b.a,null,z?j.a.createElement(w.a,{code:I,language:"json",title:"Request body",onSave:J}):j.a.createElement(d.a,{onClick:function(){return B(!0)}},"Add request body")),j.a.createElement(b.a,null,U&&j.a.createElement(j.a.Fragment,null,j.a.createElement(O.a,{variant:"body1"},"Response"),j.a.createElement(h.a,{language:"json"},JSON.stringify(JSON.parse(U),null,2)))),j.a.createElement(f.a,null,j.a.createElement(T,{endpoint:t,queryString:ne(_),requestBody:I}),j.a.createElement(d.a,{onClick:function(){return ae.apply(this,arguments)}},"Test"))))}}}]);
//# sourceMappingURL=10.92187954.chunk.js.map